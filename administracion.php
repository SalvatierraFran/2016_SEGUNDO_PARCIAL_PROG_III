<?phprequire_once 'clases/AccesoDatos.php';require_once 'clases/Usuario.php';$queMuestro = isset($_POST['queMuestro']) ? $_POST['queMuestro'] : NULL;switch ($queMuestro) {    case "2"://LOGOUT		//IMPLEMENTAR...        session_start();        if (isset($_SESSION["Usuario"]))        {            session_unset();            echo "Exito";        }        else        {            echo "Error";        }        break;    case "3"://MOSTRAR GRILLA		//IMPLEMENTAR...        require_once 'grilla.php';        break;    case "4"://MUESTRA FORM ALTA-MODIFICACION USUARIO		//IMPLEMENTAR...        require_once "form.php";        break;    case "5"://SUBIR FOTO AL TMP		//IMPLEMENTAR...        break;    case "6"://ALTA USUARIO		//IMPLEMENTAR...        require_once "clases/Archivo.php";        require_once "clases/AccesoDatos.php";        require_once "clases/Usuario.php";        $final = new stdClass();        $final->Success = TRUE;        if(!isset($_POST["obj"]))        {            $final->Success = FALSE;            $final->message = "Error";            echo json_encode($resultado);        }        else        {            $obj = json_decode(json_encode($_POST["obj"]));            $pathOrigen = $_POST["foto"];            $pathDestino = "fotos/".$obj->foto;            $auxFoto = substr_count($pathOrigen, "tmp/") > 0;            if(!$auxFoto || Archivo::Mover($pathOrigen, $pathDestino)){                if(Usuario::Agregar($obj)){                    $final->message = "Agregado exitosamente!!!";                }                else{                    $final->message = "No se pudo agregar usuario";                    $final->Success = FALSE;                }            }            else            {                $final->message = "No se pudo agregar foto";                $final->Success = FALSE;            }            echo json_encode($final);        }        break;    case "7"://ELIMINAR USUARIO		//IMPLEMENTAR...        break;            case "8"://MODIFICAR USUARIO		//IMPLEMENTAR...        require_once "clases/Archivo.php";        $final = new stdClass();        $final->Success = false;        $final->usuarioMod = false;        if(!isset($_POST["modificacion"])){            $resultado->Success = false;            $resultado->message = "Error";            echo json_encode($final);        } else {            $userMod = json_decode(json_encode($_POST["modificacion"]));            $usuario = new Usuario($userMod->id);            $ubic = $_POST["foto"];            $destino = "fotos/" . $userMod->foto;            $auxFoto = substr_count($origen, "tmp/") > 0;            if(!$fotoModificada || Archivo::Mover($ubic, $destino)){                if(Usuario::Modificar($userMod->id)){                    $final->message = "Modificacion exitosa";                    if($auxFoto){                        if($usuario->foto != "pordefecto.jpg"){                            Archivo::Borrar("fotos/" . $usuarioOriginal->foto);                        }                    }                    if(session_id() == ''){                        session_start();                    }                    if(isset($_SESSION["Usuario"])){                        $Logged = json_decode($_SESSION["Usuario"]);                        if($Logged->id == $userMod->id){                            $_SESSION["Usuario"] = json_encode($userMod);                            $final->usuarioMod = true;                            $final->userNombreLog = $userMod->nombre;                            $final->userLogPerfil = $userMod->perfil;                            $final->userLogFoto = $destino;                        }                    }                } else {                    $final->message = "Error al modificar";                    $final->Success = false;                }            } else {                $final->message = "Error al modificar foto";                $final->Success = false;            }            echo json_encode($final);        }        break;	case "9"://ELEGIR THEME		//IMPLEMENTAR...        require_once "grillaTheme.php";		break;		case "10"://GUARDA EN COOKIE EL THEME		//IMPLEMENTAR...        $final = new stdClass();        $final->Success = TRUE;        if(!isset($_POST["colorElegido"])){            $final->Success = FALSE;            $final->message = "Error";            echo json_encode($final);        } else {            if(session_id() == ''){                session_start();            }            $colorElegido = $_POST["colorElegido"];            $userLog = json_decode($_SESSION["Usuario"]);            if(setcookie("CookieColor" . $userLog->id, $colorElegido, time() + 60*60*24*30)){                $final->message = "Color Elegido Guardado!!!";            } else {                $final->Success = FALSE;                $final->message = "Error al guardar Color Elegido";            }            return json_encode($final);        }		break;		    default:        echo ":(";}?>